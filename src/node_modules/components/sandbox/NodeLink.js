import React, { Component } from 'react'

import Circle from './Circle.js'

import {DEBUG} from 'config.js'

import './linkstyle.css'

class NodeLink extends Component{

    constructor(props){
        super(props)

        
    }

    onClick(event){
        
        console.log(this.props)
    }

    render(){

        const fromCoords = this.props.fromCoords
        const toCoords = this.props.toCoords

        const path =`M ${fromCoords.port.x} ${fromCoords.port.y} C ${fromCoords.direction.x} ${fromCoords.direction.y}, ${toCoords.direction.x} ${toCoords.direction.y}, ${toCoords.port.x} ${toCoords.port.y}`
        
        return (
            <g className='link-group'>
                
                <path d={path} fill="none" className='link'/>
                <path d={path} className='link-mask' fill="none" onClick={(e) => this.onClick(e)}/>
                
                {DEBUG ? <g><Circle fill='red' r='3' pos={fromCoords.port}></Circle>
                <Circle fill='green' r='3' pos={fromCoords.direction}></Circle>
                <Circle fill='blue' r='3' pos={toCoords.port}></Circle>
                <Circle fill='orange' r='3' pos={toCoords.direction}></Circle> </g>: null}
            </g>
        )
    }
}

export default  NodeLink