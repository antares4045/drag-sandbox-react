import React, { Component } from 'react'

import './portsStyle.css'

import {DEBUG, portSize} from 'config.js'

import Circle from './Circle.js'

class NodePort extends Component{
 
    constructor(props){
        super(props)

    }
    onMouseDown(event){
        event.stopPropagation();
        
        this.props.tryStartConnection()
    }

    onMouseUp(event){  
        event.stopPropagation();
        console.log('he')
        this.props.tryEndConnection()
    }
    render(){
        return (
            <g>
                <rect width={portSize} height={portSize} x={this.props.pos.x - portSize/2} y={this.props.pos.y - portSize/2} fill={this.props.fill} className='port'
                    onMouseDown={(e) => this.onMouseDown(e)}
                    onMouseUp={(e) => this.onMouseUp(e)}
                >
                </rect>
                {DEBUG ? <Circle r="5" fill={this.props.fill} stroke="black" pos={this.props.direction}></Circle> : null}
            </g>
            
        )
    }
}

export default NodePort